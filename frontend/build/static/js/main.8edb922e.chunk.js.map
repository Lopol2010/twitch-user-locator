{"version":3,"sources":["App.js","index.js"],"names":["App","props","state","result","chatter","chats","progressValue","isLocatingNow","history","userlist","JSON","parse","localStorage","getItem","filter","val","i","s","indexOf","concat","className","onKeyDown","e","handleInputEnter","this","length","map","user","onClick","handleLocateButtonClick","max","value","name","isOnline","href","findUserInFollowedChats","then","unshift","setState","keyCode","saveUserName","target","nickname","cur","push","setItem","stringify","userName","intervalId","setInterval","getProgress","console","log","fetch","res","json","data","catch","finally","clearInterval","progress","react","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8edb922e.chunk.js","sourcesContent":["import react from 'react';\nimport './App.css';\n\nexport default class App extends react.Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tresult: {\n\t\t\t\tchatter: \"\",\n\t\t\t\tchats: []\n\t\t\t},\n\t\t\tprogressValue: 0,\n\t\t\tisLocatingNow: false,\n\t\t\thistory: [],\n\t\t\tuserlist: [\"nikaypypy\", \"unuasha\", \"arrowwoods\", \"praden\",\n\t\t\t\t\"untovvn\", \"furbylol\", \"flexxxid\", \"MerrychXmas\",\n\t\t\t\t\"vashue\", \"u_r_0_d\", \"Slexboy\", \"honeymad\", \"ountti\",\n\t\t\t\t\"xuylo_obgashenoe\", \"moliichan\"]\n\t\t}\n\n\t\tlet userlist = JSON.parse(localStorage.getItem(\"userlist\"))\n\t\tif (userlist) {\n\t\t\tuserlist = userlist.filter((val, i, s) => s.indexOf(val) === i)\n\t\t\tthis.state.userlist = this.state.userlist.concat(userlist)\n\t\t}\n\t}\n\n\trender() {\n\t\tlet userNameElement = (name, isOnline) => {\n\t\t\t\n\t\t\tif(isOnline)\n\t\t\t\treturn name ? <div><b>{name}</b> isn't chatting anywhere.</div> : null\n\t\t\treturn name ? <div><b>{name}</b> is chatting in:</div> : null\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<div className=\"input-wrapper\">\n\t\t\t\t\t<input onKeyDown={e => this.handleInputEnter(e)}></input>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.state.userlist.filter(e => e && e.length > 0).map((user, i) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<button key={i} onClick={e => this.handleLocateButtonClick(e, user)}>\n\t\t\t\t\t\t\t\t\t{user}</button>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t{this.state.isLocatingNow ?\n\t\t\t\t\t\t<progress max=\"1.0\" value={this.state.progressValue}></progress>\n\t\t\t\t\t\t: \"\"\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"history\">\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.state.history.map((e, i) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div  key={i}>\n\t\t\t\t\t\t\t\t\t{userNameElement(e.chatter, e.chats.length <= 0)}\n\t\t\t\t\t\t\t\t\t{e.chats.map((e, i) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={i}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href={\"https://www.twitch.tv/\" + e}>{e}</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tasync handleLocateButtonClick(e, user) {\n\t\tthis.findUserInFollowedChats(user)\n\t\t.then(() => {\n\n\t\t\tlet history = this.state.history\n\t\t\thistory.unshift(this.state.result)\n\t\t\tthis.setState({ history: history })\n\t\t})\n\n\t}\n\n\thandleInputEnter(e) {\n\n\t\tif (e.keyCode === 13) {\n\t\t\t// Cancel the default action, if needed\n\t\t\t// e.preventDefault();\n\t\t\t// Trigger the button element with a click\n\t\t\tthis.saveUserName(e.target.value)\n\t\t}\n\t}\n\n\tsaveUserName(nickname) {\n\t\tlet cur = this.state.userlist || []\n\t\tcur = cur.concat(JSON.parse(localStorage.getItem(\"userlist\")) || [])\n\n\t\tcur.push(nickname)\n\t\tlocalStorage.setItem(\"userlist\", JSON.stringify(cur))\n\n\t\tthis.setState({userlist: cur})\n\t}\n\n\tasync findUserInFollowedChats(userName) {\n\n\t\tthis.setState({ isLocatingNow: true })\t\n\n\t\tthis.intervalId = setInterval(() => {\n\t\t\tthis.getProgress()\n\t\t}, 500)\n\n\t\tconsole.log(\"Sending request: /find?user=\" + userName)\n\t\tawait fetch(\"/find?user=\" + userName)\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => {\n\t\t\t\tconsole.log(data)\n\t\t\t\tlet result = {\n\t\t\t\t\tchatter: data.chatter,\n\t\t\t\t\tchats: data.chats\n\t\t\t\t}\n\t\t\t\tthis.setState({ result: result })\n\t\t\t})\n\t\t\t.catch(console.log)\n\t\t\t.finally(e => {\n\t\t\t\tclearInterval(this.intervalId)\n\t\t\t\tthis.setState({ progressValue: 0 })\n\t\t\t\tthis.setState({ isLocatingNow: false })\t\n\t\t\t})\n\n\n\t}\n\n\tgetProgress() {\n\t\tconsole.log(\"Sending request: /getProgress\")\n\t\tfetch(\"/getProgress\")\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => {\n\t\t\t\tthis.setState({ progressValue: data.progress })\n\t\t\t})\n\t\t\t.catch(console.log)\n\t}\n\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}